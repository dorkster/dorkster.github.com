Scroller={speed:10,gy:function(a){gy=a.offsetTop;if(a.offsetParent)while(a=a.offsetParent)gy+=a.offsetTop;return gy},scrollTop:function(){body=document.body;d=document.documentElement;if(body&&body.scrollTop)return body.scrollTop;if(d&&d.scrollTop)return d.scrollTop;if(window.pageYOffset)return window.pageYOffset;return 0},add:function(a,b,c){if(a.addEventListener)return a.addEventListener(b,c,false);if(a.attachEvent)return a.attachEvent("on"+b,c)},end:function(a){if(window.event){window.event.cancelBubble=true;window.event.returnValue=false;return}if(a.preventDefault&&a.stopPropagation){a.preventDefault();a.stopPropagation()}},scroll:function(b){i=window.innerHeight||document.documentElement.clientHeight;h=document.body.scrollHeight;a=Scroller.scrollTop();if(b>a)a+=Math.ceil((b-a)/Scroller.speed);else a=a+(b-a)/Scroller.speed;window.scrollTo(0,a);if(a==b||Scroller.offsetTop==a)clearInterval(Scroller.interval);Scroller.offsetTop=a},init:function(){Scroller.add(window,"load",Scroller.render)},render:function(){a=document.getElementsByTagName("a");Scroller.end(this);window.onscroll;for(i=0;i<a.length;i++){l=a[i];if(l.href&&l.href.indexOf("#")!=-1&&(l.pathname==location.pathname||"/"+l.pathname==location.pathname)){Scroller.add(l,"click",Scroller.end);l.onclick=function(){Scroller.end(this);l=this.hash.substr(1);a=document.getElementsByTagName("a");for(i=0;i<a.length;i++){if(a[i].name==l){clearInterval(Scroller.interval);Scroller.interval=setInterval("Scroller.scroll("+Scroller.gy(a[i])+")",10)}}}}}}};Scroller.init()
