<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<title>dorkster - Blog</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<link href="main.css" rel="stylesheet" type="text/css" title="main"/>
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:site" content="@jajdorkster"/>
<meta name="twitter:title" content="dorkster - Blog"/>
<meta name="twitter:description" content=""/>
<meta name="twitter:image" content=""/>
</head>

<body>

<div class="navigation">
<h1>dorkster</h1>
<ul>
<li><a href="index.html">About</a></li>
<li><a class="current" href="blog_page0.html">Latest Blog Posts</a></li>
<li><a href="blog_archive.html">Blog Archive</a></li>
</ul>
</div>

<div class="content">
<hr class="header-hr"/>

<div class="blogpost">
<h2>2015/12/29 21:42:55</h2>

<p>News from the <a href="http://flarerpg.org">Flare</a> project has been sparse, if not silent. So I'd like to take this opportunity to discuss what we've been working on to those who may not be closely following development on Github. The features and fixes I'll discuss have been implemented since the last <a href="https://www.youtube.com/watch?v=F2dM-i44o78">developer log video</a>.</p>

<h3>Features for players</h3>

<h4>Core engine features</h4>

<ul>
<li>Scaled rendering. Instead of having to set a window resolution, the window can now be resized on the fly. The game's display will be scaled appropriately so that the viewable area is not different depending on the window size. No more tiny graphics on high resolution screens!</li>
<li>We now support an arbitrary number of save slots, instead of only 4.</li>
<li>The Android port is 100% functional now. Many thanks to Igor Paliychuk. Unfortunately, we don't yet have a way to automatically download and install game data.</li>
<li>Lots of cleanup and fixes to mod syntax and engine code.</li>
</ul>

<h4>User interface improvements</h4>

<ul>
<li>By Shift-clicking on inventory/vendor items, players can select how many they want to pick up. I've written about this feature in a <a href="blog_2015-08-27_23-04-11.html">previous blog post</a>.</li>
<li>Right-clicking on powers that have been placed in the actionbar causes that power to be used. This was a problem for powers that use the mouse cursor position to get a target. In such cases, we now go into a targeting mode so that the player can pick an appropriate target for the power.</li>
<li>A config option has been added to hide text labels on loot. When hidden, loot labels can been shown by holding the ALT key.</li>
<li>The main menus (title screen, config menu, etc) now support background images.</li>
<li>Power tooltips now display more information about their effects.</li>
</ul>

<h4>Improved input device mapping</h4>

<ul>
<li>All mouse buttons can now be bound to actions, even for mice that have more than 7 buttons.</li>
<li>Joystick axes can now be bound to actions. This means that movement is no longer hard-coded to Axis 0/1. It also means that analog triggers on devices like Xbox 360 controllers can be mapped.</li>
</ul>

<h4>Gameplay features</h4>

<ul>
<li>"Instant" powers can now be used while the player is in an animation. This allows for easy use of potions and other consumables while being attacked.</li>
<li>Enemies are no longer restricted to 4 powers (2 melee and 2 ranged). This should let us create more interesting enemies.</li>
<li>New entity stats: "Missile Reflect Chance" and "Damage Reflection". Missile Reflect Chance will let entities direct missile powers back at their attackers. Damage Reflection will instantly return a percentage of the damage taken back to the attacker.</li>
<li>New status effect: Knockback. Entities under this effect will be pushed away from their original position.</li>
<li>Powers can now move relative to their caster. This combined with the new ability to make casters move in a straight line allows us to create "charging" powers, like the "Shield Bash" in the Empyrean mod.</li>
<li>Loot drops can now be defined in loot table files. This allows for more varied loot from chests and enemies.</li>
<li>Vendors can now offer randomized loot from a loot table file.</li>
<li>Powers now have the ability to spawn loot directly.</li>
<li>Item prices can now be affected by player level.</li>
</ul>

<h3>Features for developers</h3>

<ul>
<li>Errors when parsing mod files now print the filename and line number where the error occurred.</li>
<li>Added a developer console. With the "Developer Mode" setting enabled, press the F5 key in-game to open it.</li>
<li>A MapSaver API has been added for external programs that want to write out map files from Flare's data structures.</li>
</ul>

<h3>Empyrean mod</h3>

<p>Steady progress is being made on the game we will be shipping with the 1.0 engine. The game will be divided into 4 chunks, each with 3 side-quests. The first 3 chunks will have a large dungeon at the end containing a major boss. The last chunk will be the lead-up to and confrontation with the final boss. As of now, the first of these chunks is finished, while the second chunk is about half way finished. Here's a quick overview of what's in store for players:</p>

<ul>
<li>The game's content is designed around the player leveling from 1 to 16 (level cap is actually 20).</li>
<li>There are currently over 400 pieces of equipment that players can find and use.</li>
<li>The player's Power tree has been redesigned since the alpha demo. Every power can be upgraded an additional 4 levels. There are also now passive powers that only have a level requirement, so they can easily by mixed and matched with different builds.</li>
</ul>

<h3>New website</h3>

<p>In between working on the engine and the Empyrean mod, I've also started to work on creating a new web site for the Flare engine. One of the main reasons for a new web site is to allow other contributors besides Clint to make blog posts. That way, I would be able to provide updates directly on the Flare site. Most recently, I worked on migrating all of the blog posts from the current Flare site to this new one.</p>

<p>Discussion about the new site can be found on <a href="https://github.com/clintbellanger/flare-engine/issues/1407">this Github thread</a>.</p>

<p><a href="images/flare_new_blog_preview.png"><img src="images/thumb_flare_new_blog_preview.png" alt="New Flare Blog: preview screenshot" title="" /></a></p>
<p><a href="blog_2015-12-29_21-42-55.html">Permalink</a></p>
</div>
<div class="blogpost">
<h2>2015/09/22 23:09:18</h2>

<p>After designing the Empyrean campaign's first major boss fight, it came time to tie it all in to the main quest. This prompted me to review the design of the <em>Book of the Dead</em> map.</p>

<p><a href="images/botd_redesign.jpg"><img src="images/thumb_botd_redesign.jpg" alt="Book of the Dead redesign screenshot" title="" /></a></p>

<p>The original plan for this map entailed a boss fight later in the game, but that idea has been scrapped. Instead the initial focus of the map is getting the player to start the main quest. The player enters from the southern staircase and takes the teleport to the western platform. They can't teleport back until reading the Book of the Dead and triggering the main quest.</p>

<p><img src="images/botd_book.jpg" alt="Book of the Dead book screenshot" title="" /></p>

<p>Once this happens, they can teleport to the eastern platform and head either: south back to town or north to the wilderness. At this point, the north and south teleports have changed to send the player directly to the eastern platform whenever they pass through the map again.</p>

<p>This in combination with the completion of the St. Maria maps means the Empyrean campaign is a little more than 1/4 complete. That might not seem like much, but a lot of the time I've spent in the last few weeks has involved further balancing gameplay numbers. Things like figuring out the rate at which enemies get stronger, the strength of player powers, and the bonuses given by equipment. And every few steps of the way, I found something that was missing on the engine side that needed implementation. That said, things should be easier going forward. Those engine features are now implemented, and I no longer feel the need to make large, sweeping changes to gameplay numbers.</p>
<p><a href="blog_2015-09-22_23-09-18.html">Permalink</a></p>
</div>
<div class="blogpost">
<h2>2015/08/27 23:04:11</h2>

<p>Today, I implemented, what I think, is a useful feature into Flare.</p>

<p>Previously, there were instances where the player could pick up just one item in an inventory stack (like when shift-clicking). In fact, all item movement on touchscreen/mouse-less devices was done that way. This was unacceptable for large stacks, such as those for Gold. My solution was to create a dialog menu to let the player decide how much they want to pick up.</p>

<p><img src="images/flare_quantity_picker.jpg" alt="Screenshot of Flare's quantity picker dialog" title="" /></p>

<p>The implementation of this was a bit tricky. Flare's drag-and-drop system worked under the assumption that it was literally that: <em>DRAG</em> and drop. Clicking on items immediately removed them from their source slot, and there was no way to maintain what was being dragged if the player let off the mouse button. So as a result, I needed to make sure:</p>

<ul>
<li>The stack isn't picked up when shift-clicking on an item stack</li>
<li>The item stack and source id are still stored in our dragging variables, but not displayed visually</li>
<li>When the player clicks "OK" on the dialog box, the desired quantity is removed from the source slot</li>
</ul>

<p>I'm satisfied with the end result, although the dialog menu itself may get some usability tweaks. For example, the text field with the value could be editable by keyboard. Also, the rate at which the arrows increment/decrement the value might need some adjusting.</p>
<p><a href="blog_2015-08-27_23-04-11.html">Permalink</a></p>
</div>
<div class="blogpost">
<h2>2015/08/23 22:34:37</h2>

<p>Today, I finished laying out the first map of the first major dungeon in the Empyrean campaign. The area it is a part of is tentatively named <em>Lochport Tower</em>, but there's a good chance that will change.</p>

<p><a href="images/lochport_tower_1.jpg"><img src="images/thumb_lochport_tower_1.jpg" alt="Lochport Tower 1 screenshot" title="" /></a></p>

<p>The center area is vertically symmetrical, and the outer ring is horizontally symmetrical. Both combined create a shape that I really like. From a gameplay perspective, the player will travel clockwise around the outer ring. At 3 o'clock, there will be a mini-boss defending some treasure chests. One of the chests will contain a key that will unlock the door to the next level in the center area.</p>
<p><a href="blog_2015-08-23_22-34-37.html">Permalink</a></p>
</div>
<div class="blogpost">
<h2>2015/08/19 16:25:12</h2>

<p>I made some changes to this site today, mostly related to the navigation. In my <a href="blog_2014-06-24_03-36-44.html">first blog post</a> I described the system of Markdown + bash scripts that I use to generate the pages here. I've made it so that the navigation now gets automatically populated with all static pages, the main blog page, and the last five blog entries. The navigation is applied to each page in the following way:</p>

<ol>
<li>Start with the first half of the header template</li>
<li>Generate the list of links for the navigation</li>
<li>Use sed to find the first line containing the current page's filename (i.e. the link to the current page in the navigation)</li>
<li>Use that line number with sed to insert a <em>class</em> attribute to the link. This allows giving the link current page its own background color in the navigation</li>
<li>Append the second half of the header, the page contents, and the footer (in that order)</li>
</ol>

<p>Points 3 and 4 are pretty neat in my opinion. The only options to get this effect would be to either:</p>

<ul>
<li>Use unique CSS classes for each page. Not ideal for how I'm generating pages.</li>
<li>Or use Javascript. This is a Javascript-free site, so that's a no-go.</li>
</ul>

<p>In other news, Flare engine is at a state I'm happy calling version 1.0. The primary task now is to work on the Empyrean campaign, which is the replacement for the alpha demo game the was bundled with version 0.19. Development of the Empyrean campaign has been slow. While part of this is due to my own laziness, a good portion of the blame lies in the fact that game design is hard. Most of the gameplay values (stats, items) from the alpha demo have been thrown out. Getting things reasonably balanced is a tall order, and I feel like I'm just now getting close to a fair level of difficulty after much iteration. While I've been steadily developing maps to test content on, I look forward to going full speed into map and quest creation.</p>
<p><a href="blog_2015-08-19_16-25-12.html">Permalink</a></p>
</div>
<p>
<a href="blog_page1.html">Older entries</a>
</p>

</div>

<div class="footer">
<hr/>
<p>
©2013-2015 Justin Jacobs.<br/>
This page uses valid <a href="http://jigsaw.w3.org/css-validator/check/referer">CSS 3</a> and <a href="http://validator.w3.org/check?uri=referer">XHTML 1.0 Strict</a>.
</p>
</div>

</body>

</html>
